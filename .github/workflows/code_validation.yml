name: Run code validation

on:
  # Triggers the workflow on push or pull request events for the "main" branch
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  validate_html_css:
  runs-on: ubuntu-latest

  steps:
    - name: Checkout Repo
      uses: actions/checkout@v3

    - name: Validate HTML & CSS
      uses: Cyb3r-Jak3/html5validator-action@v7.2.0
      with:
        log_level: DEBUG
        root: test/ # change to actual folder when it's created
        css: true
        extra: --show-warnings
    - name: Create log artifact
      uses: actions/upload-artifact@v3
      if: ${{ always() }}
      with:
        name: log
        path: log.log